---
description: 
globs: 
alwaysApply: false
---
# WebTools ê°œë°œ ê·œì¹™

## ğŸš¨ ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ

### 1. nginx sites-enabled í´ë” ê´€ë¦¬
```bash
# âŒ ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”!
cp /etc/nginx/sites-available/purestory /etc/nginx/sites-enabled/purestory.backup
cp /etc/nginx/sites-available/purestory /etc/nginx/sites-enabled/purestory.bak
```
**ì´ìœ **: nginxëŠ” sites-enabled í´ë”ì˜ **ëª¨ë“ ** íŒŒì¼ì„ ì„¤ì •ìœ¼ë¡œ ì½ìŠµë‹ˆë‹¤. ë°±ì—… íŒŒì¼ë„ ì˜ˆì™¸ê°€ ì•„ë‹™ë‹ˆë‹¤!

### 2. íŒŒì¼ ê¶Œí•œ ë¬´ì‹œ
- íŒŒì¼ ìˆ˜ì • ì „ ë°˜ë“œì‹œ `ls -la [íŒŒì¼ê²½ë¡œ]` ë¡œ ê¶Œí•œ í™•ì¸
- root ì†Œìœ  íŒŒì¼ ë°œê²¬ ì‹œ ì¦‰ì‹œ `sudo chown purestory:purestory [íŒŒì¼ê²½ë¡œ]` ì‹¤í–‰
- nginx ì„¤ì •ì€ ë°˜ë“œì‹œ `/home/purestory/tmp/`ì—ì„œ í¸ì§‘

### 3. ê²½ë¡œ ë° í¬íŠ¸ ì„ì˜ ì„¤ì •
- í¬íŠ¸ë²ˆí˜¸ë¥¼ ì„ì˜ë¡œ ì§€ì •í•˜ì§€ ë§ê³  ì‚¬ìš©ìì—ê²Œ í™•ì¸
- `~` ê²½ë¡œ ì‚¬ìš© ê¸ˆì§€ (í´ë”ë¡œ ìƒì„±ë  ìˆ˜ ìˆìŒ)
- basenameì€ `/webtools`ë¡œ ê³ ì •

### 4. ë¶ˆí•„ìš”í•œ nginx ìƒíƒœ í™•ì¸
- ë¹Œë“œ ì™„ë£Œ í›„ nginx ìƒíƒœ í™•ì¸(`sudo systemctl status nginx`)ì€ ë¶ˆí•„ìš”
- nginx ì„¤ì • ë³€ê²½ì´ ì—†ì—ˆë‹¤ë©´ ìƒíƒœ í™•ì¸í•˜ì§€ ë§ ê²ƒ
- ë‹¨ìˆœ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ìˆ˜ì • í›„ì—ëŠ” nginx ì¬ì‹œì‘ ë¶ˆí•„ìš”

## âœ… í•„ìˆ˜ ì¤€ìˆ˜ ì‚¬í•­

### 1. íŒŒì¼ ìˆ˜ì • í”„ë¡œì„¸ìŠ¤
```bash
# nginx ì„¤ì • íŒŒì¼ ìˆ˜ì • ì‹œ
sudo cp /etc/nginx/sites-available/purestory /home/purestory/tmp/nginx_backup_$(date +%Y%m%d_%H%M%S).conf
sudo cp /etc/nginx/sites-available/purestory /home/purestory/tmp/nginx_edit.conf
sudo chown purestory:purestory /home/purestory/tmp/nginx_edit.conf
# í¸ì§‘ í›„
sudo cp /home/purestory/tmp/nginx_edit.conf /etc/nginx/sites-available/purestory
sudo nginx -t
sudo systemctl reload nginx
```

### 2. React ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```jsx
import { useState, useEffect } from 'react';
import './ComponentName.css';

const ComponentName = () => {
  const [state, setState] = useState(initialValue);
  
  const handleEvent = () => {
    // ë¡œì§
  };
  
  useEffect(() => {
    // ë¶€ìˆ˜ íš¨ê³¼
  }, []);
  
  return (
    <div className="component-name">
      {/* JSX ë‚´ìš© */}
    </div>
  );
};

export default ComponentName;
```

### 3. ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
```jsx
const handleApiCall = async () => {
  try {
    setLoading(true);
    setError('');
    
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    // ì„±ê³µ ì²˜ë¦¬
  } catch (err) {
    console.error('API í˜¸ì¶œ ì‹¤íŒ¨:', err);
    setError('ì„œë¹„ìŠ¤ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
  } finally {
    setLoading(false);
  }
};
```

## ğŸ“ íŒŒì¼ êµ¬ì¡° ê·œì¹™

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ComponentName.jsx
â”‚   â”‚   â””â”€â”€ ComponentName.css
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ ComponentNamePage.jsx
â”‚   â””â”€â”€ hooks/
â”‚       â””â”€â”€ useComponentName.js
```

### ëª…ëª… ê·œì¹™
- **ì»´í¬ë„ŒíŠ¸**: PascalCase (`AudioEditor`, `PDFEditor`)
- **íŒŒì¼ëª…**: ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼ (`AudioEditor.jsx`)
- **CSS í´ë˜ìŠ¤**: kebab-case (`audio-editor`, `pdf-editor-page`)
- **í•¨ìˆ˜/ë³€ìˆ˜**: camelCase (`handleSubmit`, `isLoading`)

## ğŸ”§ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ë¹Œë“œ ë° ë°°í¬
```bash
cd /home/purestory/webtools/frontend
npm run build
```

### ì„œë²„ êµ¬ë™ ì‹œ ì²´í¬
```bash
# systemd ì„œë¹„ìŠ¤ í™•ì¸
sudo systemctl status nginx
# ê°€ë™ ì¤‘ì´ë©´ ì¤‘ì§€ í›„ ì¬ì‹œì‘
sudo systemctl stop nginx
sudo systemctl start nginx
```

### ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì½˜ì†” ì—ëŸ¬ê°€ ì—†ëŠ”ê°€?
- [ ] nginx ì„¤ì • í…ŒìŠ¤íŠ¸: `sudo nginx -t`
- [ ] ë¹Œë“œ ì„±ê³µ: `npm run build`
- [ ] íŒŒì¼ ê¶Œí•œ í™•ì¸: `ls -la`

## ğŸ›¡ï¸ ë³´ì•ˆ ë° ì„±ëŠ¥

### API ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­
- HTTPS ì‚¬ì´íŠ¸ì—ì„œëŠ” ë°˜ë“œì‹œ HTTPS API ì‚¬ìš© (Mixed Content ë°©ì§€)
- í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì²˜ë¦¬ ì›ì¹™ ìœ ì§€

### íŒŒì¼ ì²˜ë¦¬ ê²€ì¦
```jsx
const handleFileUpload = (file) => {
  // íŒŒì¼ í¬ê¸° ê²€ì‚¬
  if (file.size > 10 * 1024 * 1024) { // 10MB
    setError('íŒŒì¼ í¬ê¸°ëŠ” 10MBë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    return;
  }
  
  // íŒŒì¼ í˜•ì‹ ê²€ì‚¬
  const allowedTypes = ['image/jpeg', 'image/png', 'image/webp'];
  if (!allowedTypes.includes(file.type)) {
    setError('ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤.');
    return;
  }
};
```

## ğŸ“‹ ì¤‘ìš” íŒŒì¼ ì°¸ì¡°

### í•µì‹¬ ì„¤ì • íŒŒì¼
- [frontend/package.json](mdc:frontend/package.json) - ì˜ì¡´ì„± ê´€ë¦¬
- [frontend/vite.config.js](mdc:frontend/vite.config.js) - ë¹Œë“œ ì„¤ì •
- [frontend/src/App.jsx](mdc:frontend/src/App.jsx) - ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜

### ë©”ì¸ ì»´í¬ë„ŒíŠ¸
- [frontend/src/pages/Home.jsx](mdc:frontend/src/pages/Home.jsx) - í™ˆí˜ì´ì§€
- [frontend/src/components/Layout/Layout.jsx](mdc:frontend/src/components/Layout/Layout.jsx) - ë ˆì´ì•„ì›ƒ