---
description: 
globs: 
alwaysApply: true
---
# WebTools ê°œë°œ ê·œì¹™

## ï¿½ï¿½ ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ

### 1. ê°œë°œ ì„œë²„ ì‹¤í–‰ ì ˆëŒ€ ê¸ˆì§€ âš ï¸âš ï¸âš ï¸
```bash
# âŒâŒâŒ ì ˆëŒ€ë¡œ, ì–´ë–¤ ìƒí™©ì—ì„œë„ ì‹¤í–‰í•˜ì§€ ë§ˆì„¸ìš”! âŒâŒâŒ
npm run dev
cd /home/purestory/webtools/frontend && npm run dev
vite
npm start
yarn dev
pnpm dev
```
**ì´ìœ **:
- ì´ í”„ë¡œì íŠ¸ëŠ” nginxë¡œ ì •ì  íŒŒì¼ì„ ì„œë¹™í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤
- ê°œë°œ ì„œë²„ê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©°, ë¹Œë“œ í›„ nginxë¡œ ë°”ë¡œ êµ¬ë™í•©ë‹ˆë‹¤
- `npm run build` í›„ nginx ì¬ì‹œì‘ë§Œìœ¼ë¡œ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë©ë‹ˆë‹¤
- **ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ "ê°œë°œ ì„œë²„ ì‹¤í–‰í•´" ë˜ëŠ” "npm run dev í•´"ë¼ê³  ìš”ì²­í•˜ì§€ ì•ŠëŠ” í•œ ì ˆëŒ€ ì‹¤í–‰ ê¸ˆì§€**

### 2. systemd ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸ ê¸ˆì§€
```bash
# âŒ ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”!
sudo systemctl status webtools
sudo systemctl start webtools
sudo systemctl stop webtools
```
**ì´ìœ **: 
- ì´ í”„ë¡œì íŠ¸ëŠ” nginxë¡œ êµ¬ë™ë˜ëŠ” ì •ì  ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤
- backendê°€ ì—†ìœ¼ë¯€ë¡œ ë³„ë„ì˜ systemd ì„œë¹„ìŠ¤ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ í›„ì—ëŠ” nginx ì¬ì‹œì‘ë§Œ í•„ìš”í•©ë‹ˆë‹¤

### 3. nginx sites-enabled í´ë” ê´€ë¦¬
```bash
# âŒ ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”!
cp /etc/nginx/sites-available/purestory /etc/nginx/sites-enabled/purestory.backup
cp /etc/nginx/sites-available/purestory /etc/nginx/sites-enabled/purestory.bak
```
**ì´ìœ **: nginxëŠ” sites-enabled í´ë”ì˜ **ëª¨ë“ ** íŒŒì¼ì„ ì„¤ì •ìœ¼ë¡œ ì½ìŠµë‹ˆë‹¤. ë°±ì—… íŒŒì¼ë„ ì˜ˆì™¸ê°€ ì•„ë‹™ë‹ˆë‹¤!

### 4. íŒŒì¼ ê¶Œí•œ ë¬´ì‹œ
- íŒŒì¼ ìˆ˜ì • ì „ ë°˜ë“œì‹œ `ls -la [íŒŒì¼ê²½ë¡œ]` ë¡œ ê¶Œí•œ í™•ì¸
- root ì†Œìœ  íŒŒì¼ ë°œê²¬ ì‹œ ì¦‰ì‹œ `sudo chown purestory:purestory [íŒŒì¼ê²½ë¡œ]` ì‹¤í–‰
- nginx ì„¤ì •ì€ ë°˜ë“œì‹œ `/home/purestory/tmp/`ì—ì„œ í¸ì§‘

### 5. ê²½ë¡œ ë° í¬íŠ¸ ì„ì˜ ì„¤ì •
- í¬íŠ¸ë²ˆí˜¸ë¥¼ ì„ì˜ë¡œ ì§€ì •í•˜ì§€ ë§ê³  ì‚¬ìš©ìì—ê²Œ í™•ì¸
- `~` ê²½ë¡œ ì‚¬ìš© ê¸ˆì§€ (í´ë”ë¡œ ìƒì„±ë  ìˆ˜ ìˆìŒ)
- basenameì€ `/webtools`ë¡œ ê³ ì •

### 6. ë¶ˆí•„ìš”í•œ ì„œë²„ ìƒíƒœ ì²´í¬
- ë‹¨ìˆœ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ìˆ˜ì • í›„ì—ëŠ” ì„œë²„ ìƒíƒœ í™•ì¸ ë¶ˆí•„ìš”
- systemd ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸ì€ ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ
- nginx ì„¤ì • ë³€ê²½ì´ ì—†ë‹¤ë©´ nginx ìƒíƒœ í™•ì¸ë„ ë¶ˆí•„ìš”

## âœ… í•„ìˆ˜ ì¤€ìˆ˜ ì‚¬í•­

### 1. í”„ë¡œì íŠ¸ íŠ¹ì„± ì´í•´
- **ì •ì  ì›¹ì‚¬ì´íŠ¸**: React ë¹Œë“œ ê²°ê³¼ë¬¼ì„ nginxë¡œ ì„œë¹™
- **ë°±ì—”ë“œ ì—†ìŒ**: ëª¨ë“  ê¸°ëŠ¥ì€ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì²˜ë¦¬
- **ë°°í¬ ë°©ì‹**: ë¹Œë“œ â†’ nginx document rootì— ë³µì‚¬

### 2. ì˜¬ë°”ë¥¸ ì„œë²„ êµ¬ë™ ë°©ì‹
```bash
# ê¸°ì¡´ nginx ìƒíƒœ í™•ì¸ (í•„ìš”ì‹œì—ë§Œ)
sudo systemctl status nginx

# nginx ê°€ë™ ì¤‘ì´ë©´ ì„¤ì • ë¦¬ë¡œë“œ
sudo systemctl reload nginx

# nginx ì¤‘ì§€ í›„ ì¬ì‹œì‘ (ì„¤ì • ë³€ê²½ì‹œì—ë§Œ)
sudo systemctl stop nginx
sudo systemctl start nginx
```

### 3. íŒŒì¼ ìˆ˜ì • í”„ë¡œì„¸ìŠ¤
```bash
# nginx ì„¤ì • íŒŒì¼ ìˆ˜ì • ì‹œ
sudo cp /etc/nginx/sites-available/purestory /home/purestory/tmp/nginx_backup_$(date +%Y%m%d_%H%M%S).conf
sudo cp /etc/nginx/sites-available/purestory /home/purestory/tmp/nginx_edit.conf
sudo chown purestory:purestory /home/purestory/tmp/nginx_edit.conf
# í¸ì§‘ í›„
sudo cp /home/purestory/tmp/nginx_edit.conf /etc/nginx/sites-available/purestory
sudo nginx -t
sudo systemctl reload nginx
```

### 4. React ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```jsx
import { useState, useEffect } from 'react';
import './ComponentName.css';

const ComponentName = () => {
  const [state, setState] = useState(initialValue);
  
  const handleEvent = () => {
    // ë¡œì§
  };
  
  useEffect(() => {
    // ë¶€ìˆ˜ íš¨ê³¼
  }, []);
  
  return (
    <div className="component-name">
      {/* JSX ë‚´ìš© */}
    </div>
  );
};

export default ComponentName;
```

### 5. ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
```jsx
const handleApiCall = async () => {
  try {
    setLoading(true);
    setError('');
    
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    // ì„±ê³µ ì²˜ë¦¬
  } catch (err) {
    console.error('API í˜¸ì¶œ ì‹¤íŒ¨:', err);
    setError('ì„œë¹„ìŠ¤ì— ì¼ì‹œì ì¸ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
  } finally {
    setLoading(false);
  }
};
```

## ğŸ“ íŒŒì¼ êµ¬ì¡° ê·œì¹™

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ComponentName.jsx
â”‚   â”‚   â””â”€â”€ ComponentName.css
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ ComponentNamePage.jsx
â”‚   â””â”€â”€ hooks/
â”‚       â””â”€â”€ useComponentName.js
```

### ëª…ëª… ê·œì¹™
- **ì»´í¬ë„ŒíŠ¸**: PascalCase (`AudioEditor`, `PDFEditor`)
- **íŒŒì¼ëª…**: ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼ (`AudioEditor.jsx`)
- **CSS í´ë˜ìŠ¤**: kebab-case (`audio-editor`, `pdf-editor-page`)
- **í•¨ìˆ˜/ë³€ìˆ˜**: camelCase (`handleSubmit`, `isLoading`)

## ğŸ”§ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### í‘œì¤€ ë¹Œë“œ ë° ë°°í¬
```bash
cd /home/purestory/webtools/frontend
npm run build
# nginx ì„¤ì • ë³€ê²½ì´ ìˆì—ˆë‹¤ë©´ reloadë§Œ ì‹¤í–‰
sudo systemctl reload nginx
```

### ì˜¬ë°”ë¥¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°
```bash
# ì½”ë“œ ìˆ˜ì • í›„ ë¹Œë“œë§Œ ì‹¤í–‰
cd /home/purestory/webtools/frontend
npm run build

# nginx ì„¤ì • ë³€ê²½ì´ ìˆì—ˆë‹¤ë©´ reload (ì„ íƒì‚¬í•­)
sudo systemctl reload nginx
```
**ì£¼ì˜**: ì´ í”„ë¡œì íŠ¸ëŠ” ê°œë°œ ì„œë²„(`npm run dev`)ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!

### ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì½˜ì†” ì—ëŸ¬ê°€ ì—†ëŠ”ê°€?
- [ ] nginx ì„¤ì • í…ŒìŠ¤íŠ¸: `sudo nginx -t` (ì„¤ì • ë³€ê²½ì‹œì—ë§Œ)
- [ ] ë¹Œë“œ ì„±ê³µ: `npm run build`
- [ ] íŒŒì¼ ê¶Œí•œ í™•ì¸: `ls -la` (íŒŒì¼ ìˆ˜ì • ì „ì—ë§Œ)

## ğŸ›¡ï¸ ë³´ì•ˆ ë° ì„±ëŠ¥

### API ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­
- HTTPS ì‚¬ì´íŠ¸ì—ì„œëŠ” ë°˜ë“œì‹œ HTTPS API ì‚¬ìš© (Mixed Content ë°©ì§€)
- í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì²˜ë¦¬ ì›ì¹™ ìœ ì§€

### íŒŒì¼ ì²˜ë¦¬ ê²€ì¦
```jsx
const handleFileUpload = (file) => {
  // íŒŒì¼ í¬ê¸° ê²€ì‚¬
  if (file.size > 10 * 1024 * 1024) { // 10MB
    setError('íŒŒì¼ í¬ê¸°ëŠ” 10MBë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    return;
  }
  
  // íŒŒì¼ í˜•ì‹ ê²€ì‚¬
  const allowedTypes = ['image/jpeg', 'image/png', 'image/webp'];
  if (!allowedTypes.includes(file.type)) {
    setError('ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤.');
    return;
  }
};
```

## ğŸ¯ ì‘ì—… ìš°ì„ ìˆœìœ„

### 1. ì½”ë“œ ìˆ˜ì • ì‹œ
- ì§ì ‘ í™•ì¸í•˜ê³  ë¶„ì„í•˜ì—¬ ì›ì¸ íŒŒì•…
- ì˜ˆìƒ, ì¶”ì •, ê°€ì •ìœ¼ë¡œ ë‹µë³€í•˜ì§€ ì•ŠìŒ
- ë¡œê·¸ ê¸°ë¡ê³¼ ì—ëŸ¬ ë‚´ìš© ë¶„ì„ì„ í†µí•œ ë¬¸ì œ í•´ê²°

### 2. ì‹œìŠ¤í…œ ëª…ë ¹ ì‹œ
- ëª¨ë“  ì‹œìŠ¤í…œ ëª…ë ¹ì€ `sudo` ì‚¬ìš©
- nginx ì„¤ì • ë³€ê²½ ì‹œ `/home/purestory/tmp`ì—ì„œ í¸ì§‘
- ì ìš© ì „ ë³€ê²½ì‚¬í•­ í™•ì¸

### 3. í™•ì¸ ì‘ì—…
- ì½”ë“œ í™•ì¸, ë¡œê·¸ í™•ì¸ ë“±ì€ AIê°€ ì§ì ‘ ìˆ˜í–‰
- ì‚¬ìš©ìì—ê²Œ í™•ì¸ ìš”ì²­í•˜ì§€ ë§ê³  ë„êµ¬ ì‚¬ìš©

## ğŸ“‹ ì¤‘ìš” íŒŒì¼ ì°¸ì¡°

### í•µì‹¬ ì„¤ì • íŒŒì¼
- [frontend/package.json](mdc:frontend/package.json) - ì˜ì¡´ì„± ê´€ë¦¬
- [frontend/vite.config.js](mdc:frontend/vite.config.js) - ë¹Œë“œ ì„¤ì •
- [frontend/src/App.jsx](mdc:frontend/src/App.jsx) - ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜

### ë©”ì¸ ì»´í¬ë„ŒíŠ¸
- [frontend/src/pages/Home.jsx](mdc:frontend/src/pages/Home.jsx) - í™ˆí˜ì´ì§€
- [frontend/src/components/Layout/Layout.jsx](mdc:frontend/src/components/Layout/Layout.jsx) - ë ˆì´ì•„ì›ƒ

### UI ì»´í¬ë„ŒíŠ¸
- [frontend/src/pages/TestPage.jsx](mdc:frontend/src/pages/TestPage.jsx) - UI ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ í˜ì´ì§€